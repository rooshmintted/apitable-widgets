!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@apitable/components"),require("@apitable/icons"),require("@apitable/widget-sdk"),require("react"));else if("function"==typeof define&&define.amd)define(["@apitable/components","@apitable/icons","@apitable/widget-sdk","react"],t);else{var r="object"==typeof exports?t(require("@apitable/components"),require("@apitable/icons"),require("@apitable/widget-sdk"),require("react")):t(e["_@apitable/components"],e["_@apitable/icons"],e["_@apitable/widget-sdk"],e._React);for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(self,(e,t,r,o)=>(()=>{"use strict";var n={103:e=>{e.exports=r},473:e=>{e.exports=t},727:t=>{t.exports=e},857:e=>{e.exports=o}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};i.r(l),i.d(l,{TodoList:()=>f});var c=i(727),d=i(473),s=i(103),p=i(857),u=i.n(p),f=function(){var e=(0,s.useDatasheet)(),t=(0,s.useCloudStorage)("selectedViewId"),r=t[0],o=t[1],n=(0,s.useRecords)(r),a=(0,s.useCloudStorage)("selectedFieldId"),i=a[0],l=a[1],f=(0,p.useState)(),g=f[0],v=f[1],x=(0,s.usePrimaryField)(),y=function(t){if(e){var r=e.checkPermissionsForDeleteRecord(t);r.acceptable?e.deleteRecord(t):alert(r.message)}},h=n.map(function(t){var r=t.getCellValue(i),o="boolean"==typeof r&&r;return u().createElement(c.Box,{paddingX:3,paddingY:3,borderBottom:"1px solid lightgrey",display:"flex",alignItems:"center"},u().createElement("input",{type:"checkbox",id:"check1",checked:o,onClick:function(){var r;return function(t,r){if(e){var o=e.checkPermissionsForSetRecord(t,r);o.acceptable?e.setRecord(t,r):alert(o.message)}}(t.recordId,((r={})[i]=!o,r))}}),u().createElement(c.Box,{paddingX:2,flex:1},t.title),u().createElement(b,{recordId:t.recordId,onClick:y}))});return u().createElement("div",{style:{overflow:"auto",height:"100%"}},u().createElement(c.Box,{padding:"16px 10px 10px",borderBottom:"2px solid lightgrey"},u().createElement(m,{label:"View"},u().createElement(s.ViewPicker,{viewId:r,onChange:function(e){return o(e.value)}})),u().createElement(m,{label:"Field"},u().createElement(s.FieldPicker,{viewId:r,fieldId:i,onChange:function(e){return l(e.value)}}))),h,u().createElement(c.Box,{paddingX:2,paddingY:3,display:"flex",alignItems:"center"},u().createElement(c.TextInput,{block:!0,size:"small",onChange:function(e){return v(e.target.value)}}),u().createElement(c.Button,{style:{whiteSpace:"nowrap",marginLeft:8},prefixIcon:u().createElement(d.AddOutlined,null),color:"primary",size:"small",onClick:function(){var t,r=((t={})[x.id]=g,t);if(e){var o=e.checkPermissionsForAddRecord(r);o.acceptable?e.addRecord(r):alert(o.message)}}},"Add")))},m=function(e){var t=e.label,r=e.children;return u().createElement(c.Box,{paddingY:1},u().createElement(c.Typography,null,t),r)},b=function(e){var t=e.recordId,r=e.onClick;return u().createElement(c.IconButton,{icon:d.CloseMiddleOutlined,variant:"default",onClick:function(){return r(t)}})};return l})());